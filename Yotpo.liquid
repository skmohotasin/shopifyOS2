<style>.yotpo {opacity: 0;visibility: hidden}</style>
<script type="text/javascript">
window.addEventListener('DOMContentLoaded', function() { 
  var Yotpo = document.querySelectorAll('.yotpo');
  if(typeof(Yotpo) != 'undefined' && Yotpo != null){  
    setTimeout(function(){
      let noscript = document.createElement('noscript');
      let content = '<link rel="stylesheet" href="https://staticw2.yotpo.com/{ID}/widget.css">';
      let mainContent = document.createElement('link');
      mainContent.rel = "preload";
      mainContent.setAttribute("href", "https://staticw2.yotpo.com/{ID}/widget.css");
      mainContent.as = "style";
      mainContent.setAttribute("onload", "this.onload=null;this.rel='stylesheet'");
      document.querySelector('head').append(mainContent);
      document.querySelector('head').append(noscript);
      noscript.append(content);
    },2400); 
    setTimeout(function(){
      (function e(){var e=document.createElement("script");e.type="text/javascript",e.async=true,e.src="//staticw2.yotpo.com/{ID}/widget.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();
      for (let i = 0;Yotpo.length > i; i++) {
        Yotpo[i].style.opacity = 1;
        Yotpo[i].style.visibility = 'visible';
      }
    },2600);    
  }
});   
</script>
//Product page

<script>
window.addEventListener('DOMContentLoaded', function() {
    const product_reviews = document.querySelector('.product-reviews'),
        PR_Height = product_reviews.offsetHeight + 200;
    var stopObserver = false;

    const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
            if (mutation.target.offsetHeight > PR_Height) {
                product_reviews.style.opacity = 1;
                product_reviews.style.visibility = 'visible'
                setTimeout(function() {
                    product_reviews.children[0].children[0].click();
                    stopObserver = true;
                    return false;
                }, 100);
            }
        });
    });

    if (stopObserver) {
        observer.disconnect();
    } else {
        observer.observe(product_reviews, { subtree: true, childList: true });
    }
});
</script>
